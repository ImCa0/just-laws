# 录入法律

## 技能描述

根据 contributing.md 规范，自动化收录中华人民共和国法律的流程。

## 使用方法

调用本 skill 时需要提供以下参数：
- 法律全名（如 "中华人民共和国种子法"）
- 法律分类（可选：宪法、宪法相关法、民商法、行政法、经济法、社会法、刑法、程序法）
- 英文名称（可选，如 "seed-law"）
- 法律条文数（可选，用于判断是否需要拆分文件）

## 执行流程

### 1. 确定法律信息

询问用户以下信息（如未提供）：
- 法律全名是什么？
- 法律的英文名称是什么？（用于创建文件夹，如 seed-law）
- 法律有多少条？（用于判断是否需要拆分文件）

**法律分类自动查询**：
根据 [全国人大网现行有效法律目录](http://www.npc.gov.cn/npc/c2/c30834/202512/t20251231_450944.html) 确定法律分类，无需询问用户。

常见法律分类参考（基于全国人大网标准分类）：
- **宪法** (constitution): 宪法
- **宪法相关法** (constitutional-relevance): 国家机构组织法、选举法、特别行政区基本法等
- **民商法** (civil-and-commercial): 民法典、公司法、合同法、知识产权法等
- **行政法** (administrative): 行政处罚法、行政许可法、治安管理处罚法等
- **经济法** (economic): 反垄断法、税收法、金融法、种子法等
- **社会法** (social): 劳动法、社会保险法、个人信息保护法、消费者权益保护法等
- **刑法** (criminal-law): 刑法
- **程序法** (procedural): 刑事诉讼法、民事诉讼法、行政诉讼法等

如有疑问，引导用户在全国人大网查询该法律的准确分类。

### 2. 查询并获取法律原文

**自动执行以下步骤**：

1. **搜索法律**
   - 使用 WebSearch 在国家法律法规数据库（https://flk.npc.gov.cn/）搜索法律全名
   - 查找时效性为"有效"、公布日期为"最新"的版本
   - 获取法律的详细页面 URL

2. **下载法律内容**
   - 使用 WebFetch 或 mcp__web_reader__webReader 工具获取法律正文
   - 优先下载 HTML/文本格式内容
   - 验证内容完整性（包含所有章节条文）

3. **解析法律内容**
   - 提取立法修法记录（通常在正文前）
   - 提取章节结构（章、节）
   - 提取完整条文内容
   - 确认实际条文数量

**如果自动获取失败**：
- 通知用户无法自动获取
- 提供手动获取指引：从国家法律法规数据库下载 WPS 版本
- 要求用户粘贴法律内容或提供文件路径

### 3. 创建法律目录

在 docs/{分类}/ 下创建以英文名称命名的子目录。

### 4. 处理法律内容

对于少于 200 条的法律：

创建 `docs/{分类}/{英文名称}/README.md` 文件，内容格式：

```markdown
---
sidebar: auto
---

# 中华人民共和国{法律名称}

{立法修法记录 - 每条记录单独一行}
2000年7月8日第九届全国人民代表大会常务委员会第十六次会议通过

根据2004年8月28日第十届全国人民代表大会常务委员会第十一次会议《关于修改〈中华人民共和国种子法〉的决定》第一次修正

## 第一章　总则

**第一条**　条文内容...

**第二条**　条文内容...
```

**格式化规则：**
1. 添加 frontmatter：`---\nsidebar: auto\n---`
2. 添加一级标题：`# 中华人民共和国{法律名称}`
3. 立法修法记录：每条记录单独成一行，删除中文字符与数字之间的空格
4. 章标题：`## ` + 原文（如 `## 第一章　总则`），注意"章"字后是中文空格
5. 条号：`**第X条**　` + 条文内容（加粗，后跟中文空格）
6. **所有行之间必须有空行**才能正确渲染
7. 删除中文字符与数字之间的空格（如 `2000年7月8日`）

对于 200 条以上的法律：
- 告知用户需要拆分为多个 markdown 文件
- 参考 [民法典](docs/civil-and-commercial/civil-code/) 的结构
- 每一编创建一个独立的 markdown 文件
- 在 config.js 中配置侧边栏（sidebar）

### 5. 更新导航配置

编辑 `docs/.vuepress/config.js`，在对应的 `navbar` 分类下添加：

```javascript
{ text: "{法律名称}", link: "/{分类}/{英文名称}/" },
```

### 6. 更新项目 README

编辑根目录 `README.md`：
- 将 `已收录法律（x/292）` 中的数字加一
- 在对应分类下添加：`- [x] 中华人民共和国{法律名称}`

### 7. 提交代码

执行以下 git 命令：

```bash
git add .
git commit -m "📘 收录《{法律名称}》"
```

## 注意事项

- 法律英文翻译：百度搜索该法律的英文对照，使用全小写字母，单词用 `-` 分隔
- 中文空格：章标题和条号后的空格是中文空格 `　`（U+3000），不是普通空格
- 文件夹名称无需保留 "the People's Republic of China"
- emoji 可选：📗📘📙📕
- 格式化时确保所有行之间都有空行
- 搜索替换时使用正则表达式模式

## 示例

用户输入：
```
/add-law
法律名称：中华人民共和国种子法
分类：经济法
英文名称：seed-law
```

执行结果：
1. 创建 `docs/economic/seed-law/README.md`
2. 在 config.js 中添加 `{ text: "种子法", link: "/economic/seed-law/" }`
3. 更新 README.md 计数和列表
4. 提交代码：`📘 收录《种子法》`
